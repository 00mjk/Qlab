
SoftwareDevelopmentMode     1 #In software developement mode no instruments are really used
displayScope				0

# number of steps in experiment loop
expType                     homodyneDetection

#######################################################################
############################ Exp Params ###############################
#######################################################################

# parameters for phase qubit flux pulse
TaskParams.v1_pulse.taskParameters.deviceTag           fluxPulse # which device do these parameters pertain to?
TaskParams.v1_pulse.taskParameters.deviceName          AWG # which device do these parameters pertain to?
TaskParams.v1_pulse.taskParameters.pulseCH      	   1 #output channel for pulse device 
TaskParams.v1_pulse.taskParameters.marker              [1;1] # turn marker1/marker2 on
TaskParams.v1_pulse.waveform.start.time          [0;0;1000;0;0]*1e-9 #in s
TaskParams.v1_pulse.waveform.end.time            [0;0;1000;0;0]*1e-9 #in s
TaskParams.v1_pulse.waveform.start.amp           [0;0;0;0;0] #dimensionless
TaskParams.v1_pulse.waveform.end.amp             [0;0;0;0;0] #dimensionless
TaskParams.v1_pulse.waveform.start.marker1Start        1 # point at which marker pulse starts
TaskParams.v1_pulse.waveform.end.marker1Start        1 # point at which marker pulse starts
TaskParams.v1_pulse.waveform.start.marker1Length       500 # number of points in marker pulse width
TaskParams.v1_pulse.waveform.end.marker1Length       500 # number of points in marker pulse width
TaskParams.v1_pulse.waveform.start.marker1Amp          1.75 # marker pulse amp in Volts
TaskParams.v1_pulse.waveform.end.marker1Amp          1.75 # marker pulse amp in Volts
TaskParams.v1_pulse.waveform.start.marker2Start        1 # point at which marker pulse starts
TaskParams.v1_pulse.waveform.end.marker2Start        1 # point at which marker pulse starts
TaskParams.v1_pulse.waveform.start.marker2Length       500 # number of points in marker pulse width
TaskParams.v1_pulse.waveform.end.marker2Length       500 # number of points in marker pulse width
TaskParams.v1_pulse.waveform.start.marker2Amp          1.75 # marker pulse amp in Volts
TaskParams.v1_pulse.waveform.end.marker2Amp          1.75 # marker pulse amp in Volts
TaskParams.v1_pulse.maxAmp.start        1.5 #in V
TaskParams.v1_pulse.maxAmp.end          1.0 #in V
TaskParams.v1_pulse.offset.start        0.24 #in V
TaskParams.v1_pulse.offset.end          0.24 #in V

# parameters for qubit flux pulse
TaskParams.v2_pulse.taskParameters.deviceTag           fluxPulse # which device do these parameters pertain to?
TaskParams.v2_pulse.taskParameters.deviceName          AWG # which device do these parameters pertain to?
TaskParams.v2_pulse.taskParameters.pulseCH      	   2 #output channel for pulse device 
TaskParams.v2_pulse.taskParameters.marker              [0;0] # turn marker1/marker2 on
TaskParams.v2_pulse.maxAmp.start        1.0 #in V
TaskParams.v2_pulse.maxAmp.end          1.0 #in V
#TaskParams.v2_pulse.offset.start        0.1 #in V .63 0.449
#TaskParams.v2_pulse.offset.start        0.370 #in V
TaskParams.v2_pulse.offset.start        0.570 #in V
TaskParams.v2_pulse.offset.end          0.570 #in V 0.9
TaskParams.v2_pulse.waveform.start.time          [0;0]*1e-9 #in s
TaskParams.v2_pulse.waveform.end.time            [0;0]*1e-9 #in s
TaskParams.v2_pulse.waveform.start.amp           [0;0] #dimensionless
TaskParams.v2_pulse.waveform.end.amp             [0;0] #dimensionless
# TaskParams.v2_pulse.waveform.start.marker1Start        72800 # point at which marker pulse starts
# TaskParams.v2_pulse.waveform.end.marker1Start        72800 # point at which marker pulse starts
# TaskParams.v2_pulse.waveform.start.marker1Length       500 # number of points in marker pulse width
# TaskParams.v2_pulse.waveform.end.marker1Length       500 # number of points in marker pulse width
# TaskParams.v2_pulse.waveform.start.marker1Amp          1.75 # marker pulse amp in Volts
# TaskParams.v2_pulse.waveform.end.marker1Amp          1.75 # marker pulse amp in Volts
# TaskParams.v2_pulse.waveform.start.marker2Start        94000 # point at which marker pulse starts
# TaskParams.v2_pulse.waveform.end.marker2Start        94000 # point at which marker pulse starts
# TaskParams.v2_pulse.waveform.start.marker2Length       500 # number of points in marker pulse width
# TaskParams.v2_pulse.waveform.end.marker2Length       500 # number of points in marker pulse width
# TaskParams.v2_pulse.waveform.start.marker2Amp          1.75 # marker pulse amp in Volts
# TaskParams.v2_pulse.waveform.end.marker2Amp          1.75 # marker pulse amp in Volts

# parameters for microwave pulse
TaskParams.MicrowavePulse.taskParameters.deviceTag           fluxPulse # which device do these parameters pertain to?
TaskParams.MicrowavePulse.taskParameters.deviceName          AWG # which device do these parameters pertain to?
TaskParams.MicrowavePulse.taskParameters.pulseCH      	     4 #output channel for pulse device 
TaskParams.MicrowavePulse.taskParameters.marker              [0;0]
#TaskParams.MicrowavePulse.waveform.start.time          [76.0e3;2;1002;2;0]*1e-9 #in s
TaskParams.MicrowavePulse.waveform.start.time          [1000;2;1000;2;0]*1e-9 #in s
TaskParams.MicrowavePulse.waveform.end.time            [77.0e3;2;002;2;0]*1e-9 #in s
TaskParams.MicrowavePulse.waveform.start.amp           [0;0;1;1;0] #dimensionless
TaskParams.MicrowavePulse.waveform.end.amp             [0;0;1;1;0] #dimensionless
TaskParams.MicrowavePulse.maxAmp.start        2 #in V
TaskParams.MicrowavePulse.maxAmp.end          2 #in V
TaskParams.MicrowavePulse.offset.start        0 #in V
TaskParams.MicrowavePulse.offset.end          0 #in V

# parameters for readout pulse
TaskParams.readoutPulse.taskParameters.deviceTag           readoutPulse # which device do these parameters pertain to?
TaskParams.readoutPulse.taskParameters.deviceName          AWG # which device do these parameters pertain to?
TaskParams.readoutPulse.taskParameters.pulseCH      	   1 #output channel for pulse device 
TaskParams.readoutPulse.waveform.start.time          [1.1e3;2e3;30e3;2e3;0]*1e-9 #in s
TaskParams.readoutPulse.waveform.end.time            [1.1e3;2e3;30e3;2e3;0]*1e-9 #in s
TaskParams.readoutPulse.waveform.start.amp           [0;0;1;1;0] #dimensionless
TaskParams.readoutPulse.waveform.end.amp             [0;0;1;1;0] #dimensionless
TaskParams.readoutPulse.maxAmp.start        1 #in V
TaskParams.readoutPulse.maxAmp.end          1 #in V
TaskParams.readoutPulse.offset.start        0 #in V
TaskParams.readoutPulse.offset.end          0 #in V

# parameters for trigger source
TaskParams.triggerSource.taskParameters.deviceTag           triggerSource # which device do these parameters pertain to?
TaskParams.triggerSource.taskParameters.deviceName          AWG # which device do these parameters pertain to?
TaskParams.triggerSource.taskParameters.pulseCH      	    1 #output channel for pulse device 
TaskParams.triggerSource.waveform.start.time          [0;0;20;0;10]*1e-6 #in s
TaskParams.triggerSource.waveform.end.time            [0;0;20;0;10]*1e-6 #in s
TaskParams.triggerSource.waveform.start.amp           [0;0;1;1;0] #dimensionless
TaskParams.triggerSource.waveform.end.amp             [0;0;1;1;0] #dimensionless
TaskParams.triggerSource.maxAmp.start        1.5 #in V
TaskParams.triggerSource.maxAmp.end          1.5 #in V
TaskParams.triggerSource.offset.start        0 #in V
TaskParams.triggerSource.offset.end          0 #in V

#######################################################################

TaskParams.readout_muwave.taskParameters.deviceTag            readout_muwave
TaskParams.readout_muwave.taskParameters.deviceName           CWSource
TaskParams.readout_muwave.frequency.start      10.36 # min frequency in GHz 10.35624, 10.35638
TaskParams.readout_muwave.frequency.end        10.38 # max frequency in GHz
#TaskParams.readout_muwave.frequency.start      10.35703 # min frequency in GHz 10.35624, 10.35638
#TaskParams.readout_muwave.frequency.start      10.3565 # min frequency in GHz
#TaskParams.readout_muwave.frequency.end      10.3575 # min frequency in GHz
TaskParams.readout_muwave.power.start          15 # min frequency in dBm
TaskParams.readout_muwave.power.end             4 # max frequency in dBm

TaskParams.spec_muwave.taskParameters.deviceTag            spec_muwave
TaskParams.spec_muwave.taskParameters.deviceName           CWSource
TaskParams.spec_muwave.frequency.start      9.20  # min frequency in GHz
TaskParams.spec_muwave.frequency.end        9.50  # max frequency in GHz
#TaskParams.spec_muwave.power.start           2  # min frequency in dBm
TaskParams.spec_muwave.power.start           6  # min frequency in dBm
TaskParams.spec_muwave.power.end            6   # max frequency in dBm


#######################################################################
#######################  Init Params ##################################
#######################################################################

InitParams.fluxPulse.device               AWG
InitParams.fluxPulse.m.reset              1
InitParams.fluxPulse.p.refOsc             External #reference oscillator can be 'External' or 'Internal'
InitParams.fluxPulse.p.samplingRate       1.2e9 #in Samp/sec
InitParams.fluxPulse.p.runMode            Triggered # [Sequence Continuous Triggered]
InitParams.fluxPulse.p.loopCount          1 # number of times to execute the waveform sequence
InitParams.fluxPulse.p.waveformDuration   40e-6 # MAXIMUM waveform duration in s
   
InitParams.readoutPulse.device              AWG
InitParams.readoutPulse.p.outputLoad          50 # Output load in Ohms (1-1e4)
InitParams.readoutPulse.p.burstMode           TRIG # {TRIGgered|GATed}
InitParams.readoutPulse.p.numWaveforms        1
InitParams.readoutPulse.p.triggerSource       EXT #{IMMediate|EXTernal|BUS}
InitParams.readoutPulse.p.burstState          ON # {ON|OFF}
InitParams.readoutPulse.p.waveformDuration    40e-6 # MAXIMUM waveform duration in s
InitParams.readoutPulse.p.samplingRate        30e6 #in Samp/sec

InitParams.triggerSource.device             AWG
InitParams.triggerSource.p.outputLoad         50 # Output load in Ohms (1-1e4)
InitParams.triggerSource.p.burstMode           TRIG # {TRIGgered|GATed}
InitParams.triggerSource.p.numWaveforms       5000
InitParams.triggerSource.p.triggerSource      BUS #{IMMediate|EXTernal|BUS}
InitParams.triggerSource.p.burstState          ON # {ON|OFF}
InitParams.triggerSource.p.waveformDuration   50e-6 # MAXIMUM waveform duration in s
InitParams.triggerSource.p.samplingRate       10e4 #in Samp/sec

InitParams.spec_muwave.device              CWSource
#InitParams.spec_muwave.m.CWMode    1

InitParams.readout_muwave.device            CWSource
#InitParams.readout_muwave.p.frequency		10.35668 # GHz

#########################
InitParams.scope.device             Scope
#InitParams.scope.model_number       'AP120'; 
InitParams.scope.p.timeout            10000;  #10000 is max, ms

InitParams.scope.p.acquire_mode.value                    2; #2 - averager, 0 - normal, 1 - ???
InitParams.scope.p.acquire_mode.flags                    0; # set to zeros if value = 2, see manual otherwise

#Horizontal Config Parameters

InitParams.scope.p.horizontal.sampleInterval           2e-8; # sampling rate in seconds
InitParams.scope.p.horizontal.delayTime                0.0;  # time in seconds of delay between trigger 
                                            # and acquisition, can be positive or 
                                            # negative less than -(sampInterval*nbrSamples)

#TrigSource Config Parameters

InitParams.scope.p.trigger_ch         -1;      # 1 means 1, 2 means 2, -1 means ext
InitParams.scope.p.triggerSource.trigger_coupling      0;      # 0 - DC, 1 - AC, ... see manual
InitParams.scope.p.triggerSource.trigger_slope         1;     # 0 - positive, 1 - negative, ... see manual
InitParams.scope.p.triggerSource.trigger_level         300.0; # in mv when using external trigger_ch < 0
                                     # in percent of vertical when using internal >0

InitParams.scope.p.triggerSource.trigger_level2        300.0;  # ????

#TrigClass Config Parameters
InitParams.scope.p.triggerClass       0;          % 0 - edge trigger, ... see manual

InitParams.scope.p.channel_on         1;
#Vertical Config Parameters
#vertParams.vert_channel = scope.channel_on;
InitParams.scope.p.vertical.vert_scale               0.100;  # Volts
InitParams.scope.p.vertical.offset                   0;        # Hardware offset in Volts
InitParams.scope.p.vertical.vert_coupling            3; #  1 - DC 1M, 2 - AD 1M, 3 - DC 50, 4 - AC 50 
InitParams.scope.p.vertical.bandwidth                0;     # 0 - no filtering, 1 - 25 MHz, .. see driver comments for the rest
	  
#Averager Config Parameters
InitParams.scope.p.averager.record_length        1024; # number of points
InitParams.scope.p.averager.nbrSegments          1;      # number of waveforms, just leave as 1
InitParams.scope.p.averager.num_avg              5000;        # number of averages
InitParams.scope.p.averager.ditherRange          0;      # ??? leave as 0
InitParams.scope.p.averager.trigResync           0;       # ??? leave as 0
InitParams.scope.p.averager.data_start           32;      # which point to start on in units of 16, min of 16
InitParams.scope.p.averager.data_stop            16;       # number of points to stop before the end in units of 16, min of 16
#averagerParams.nbrRoundRobins      1; seems like it might be useful

##

InitParams.scope.p.channel_on         2;
InitParams.scope.p.timeout            10000;  #10000 is max, ms

InitParams.scope.p.vertical.vert_scale               2;  # Volts
InitParams.scope.p.vertical.offset                   0;
InitParams.scope.p.vertical.vert_coupling            3;
InitParams.scope.p.vertical.bandwidth                0;


#######################################################################
########################## Instr Params ###############################
#######################################################################

# Instrument paramters
InstrParams.AWG.deviceName              {'Tek5014';'Agilent33220A';'Agilent33220A'} #[tek5014 DACII Agilent33220A]
InstrParams.AWG.tag                     {'fluxPulse';'readoutPulse';'triggerSource'}
InstrParams.AWG.Address                 {'TCPIP::128.33.89.94::4000::SOCKET';7;6} # address

InstrParams.CWSource.deviceName         {'HP8673B','HP8340B'}
InstrParams.CWSource.tag                {'spec_muwave','readout_muwave'}
InstrParams.CWSource.Address            {19;18}

InstrParams.Scope.deviceName            {'AgilentAP120'}
InstrParams.Scope.tag                   {'scope'}
InstrParams.Scope.Address               {'PCI::INSTR0'}

# The gpib substructure contains parameters used by the generic GPIB class (not used in current code)
#InstrParams.gpib.vendor              	ni #GPIB board vendor
#InstrParams.gpib.boardindex         	0  #GPIB board index
